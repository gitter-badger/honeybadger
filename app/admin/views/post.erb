<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      Post form
      <small></small>
    </h1>
    <ol class="breadcrumb">
      <li><a href="/admin"><i class="fa fa-dashboard"></i> Dashboard</a></li>
      <li><a href="/admin/posts">Posts</a></li>
      <li class="active"><%= params[:id] || 'New' %></li>
    </ol>
  </section>

  <form action="/admin/post/save/<%= params[:id] %>" data-remote="true" method="POST" id="admin-form">
    <!-- Main content -->
    <section class="content col-md-12">



      <!-- SELECT2 EXAMPLE -->
      <div class="box box-primary">
        <div class="box-header with-border">
          <h3 class="box-title">Detail</h3>
        </div>
        <div class="box-body">

          <div class="field row" id="field_name">
            <div class="col-md-12">
              <div class="form-group">
                <label>User</label>
                <select name="user_id" class="form-control">
                  <% User.all.each do |user| %>
                    <option value="<%= user[:id] %>"><%= user[:email] %></option>
                  <% end %>
                </select>
              </div><!-- /.form-group -->
            </div><!-- /.col -->
          </div><!-- /.row -->


          <div class="field row" id="field_email">
            <div class="col-md-12">
              <div class="form-group">
                <label>Title</label>
                <input type="text" class="form-control" name="title" value="<%= @post[:title] %>">
              </div><!-- /.form-group -->
            </div><!-- /.col -->
          </div><!-- /.row -->

          <div class="field row" id="field_password">
            <div class="col-md-12">
              <div class="form-group">
                <label>Content</label>
                <textarea class="form-control"><%= @post[:content] %></textarea>
              </div><!-- /.form-group -->
            </div><!-- /.col -->
          </div><!-- /.row -->


          <div class="row">
            <div class="col-md-12">
              <div class="form-group">
                <hr>
                <button class="btn btn-primary">Save</button>
                <button class="btn btn-default" onclick="javascript: history.go(-1);">Go back</button>
              </div><!-- /.form-group -->
            </div><!-- /.col -->
          </div><!-- /.row -->

        </div><!-- /.box-body -->

      </div><!-- /.box -->

    </section><!-- /.content -->






  </form>

</div><!-- /.content-wrapper -->


<!-- Page script -->
<script>
 $(function () {

   var page = {

     events: {
       select2: function(){
         //Initialize Select2 Elements
         $(".select2").select2();
       },
       show_provider_fields: function(){
         var provider = $('select[name=provider]').val();
         switch(provider){
           case "email":
             $('#field_password').show();
             $('#field_password_confirmation').show();
             break;
         }
       }
     },

     methods: {
     }

   }

   page.events.select2();
   page.events.show_provider_fields();

 });
</script>
